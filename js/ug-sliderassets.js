function UGTextPanel(){var e,t,n,i,l,s,o,a=this,r=new UGFunctions,_="",p={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},d={isFirstTime:!0,setInternalHeight:!0,lastTitleBottom:0,lastDescHeight:0};function u(t,o){if(!o)o=p.textpanel_padding_top;var a=o;if(n){var _=a;if(r.placeElement(n,0,_),1==n.is(":visible")){(a=r.getElementSize(n).bottom)>0&&(d.lastTitleBottom=a)}else{a=20;d.lastTitleBottom>0&&(a=d.lastTitleBottom)}}var u="";if(i&&(u=jQuery.trim(i.text())),""!=u){var c=a;if(n&&(c+=p.textpanel_padding_title_description),r.placeElement(i,0,c),1==jQuery(i).is(":visible")){var g=r.getElementSize(i);a=g.bottom,g.height>0&&(d.lastDescHeight=g.height)}else{var h=16;d.lastDescHeight>0&&(h=d.lastDescHeight),a=c+h}}p.textpanel_height||1!=d.setInternalHeight||function(t,n){if(!n)n=!1;if(1==n){if(l)t>l.height()&&l.height(t);var i={height:t+"px"};e.add(s).animate(i,p.textpanel_fade_duration)}else l&&l.height(t),e.add(s).height(t)}(a+p.textpanel_padding_bottom,t)}function c(){var e=0;if(n&&(e+=n.outerHeight()),i){var t="";i&&(t=jQuery.trim(i.text())),""!=t&&(n&&(e+=p.textpanel_padding_title_description),e+=i.outerHeight())}return e}function g(){if(1==p.textpanel_enable_bg){(l=e.children(".ug-textpanel-bg")).fadeTo(0,p.textpanel_bg_opacity);var t={"background-color":p.textpanel_bg_color};t=jQuery.extend(t,p.textpanel_bg_css),l.css(t)}if(1==p.textpanel_enable_title){n=s.children(".ug-textpanel-title");var o={};null!==p.textpanel_title_color&&(o.color=p.textpanel_title_color),null!==p.textpanel_title_font_family&&(o["font-family"]=p.textpanel_title_font_family),null!==p.textpanel_title_text_align&&(o["text-align"]=p.textpanel_title_text_align),null!==p.textpanel_title_font_size&&(o["font-size"]=p.textpanel_title_font_size+"px"),null!==p.textpanel_title_bold&&(!0===p.textpanel_title_bold?o["font-weight"]="bold":o["font-weight"]="normal"),p.textpanel_css_title&&(o=jQuery.extend(o,p.textpanel_css_title)),n.css(o)}if(1==p.textpanel_enable_description){i=s.children(".ug-textpanel-description");var a={};null!==p.textpanel_desc_color&&(a.color=p.textpanel_desc_color),null!==p.textpanel_desc_font_family&&(a["font-family"]=p.textpanel_desc_font_family),null!==p.textpanel_desc_text_align&&(a["text-align"]=p.textpanel_desc_text_align),null!==p.textpanel_desc_font_size&&(a["font-size"]=p.textpanel_desc_font_size+"px"),null!==p.textpanel_desc_bold&&(!0===p.textpanel_desc_bold?a["font-weight"]="bold":a["font-weight"]="normal"),p.textpanel_css_title&&(a=jQuery.extend(a,p.textpanel_css_description)),i.css(a)}}function h(){var e=o.getSelectedItem();a.setText(e.title,e.description)}this.positionElements=function(e){if(!p.textpanel_height||"top"==p.textpanel_text_valign)return u(e),!1;switch(p.textpanel_text_valign){default:case"top":u(!1);break;case"bottom":t=c(),u(!1,s.height()-t-p.textpanel_padding_bottom);break;case"center":case"middle":!function(){var e=c();u(!1,(s.height()-e)/2)}()}var t},this.init=function(e,t,n){if(o=e,n&&(_=n,t=r.convertCustomPrefixOptions(t,_,"textpanel")),t&&(p=jQuery.extend(p,t)),0==p.textpanel_enable_title&&0==p.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");p.textpanel_height&&p.textpanel_height<0&&(p.textpanel_height=null),1==p.textpanel_desc_style_as_title&&(p.textpanel_desc_color||(p.textpanel_desc_color=p.textpanel_title_color),p.textpanel_desc_bold||(p.textpanel_desc_bold=p.textpanel_title_bold),p.textpanel_desc_font_family||(p.textpanel_desc_font_family=p.textpanel_title_font_family),p.textpanel_desc_font_size||(p.textpanel_desc_font_size=p.textpanel_title_font_size),p.textpanel_desc_text_align||(p.textpanel_desc_text_align=p.textpanel_title_text_align))},this.appendHTML=function(n,i){t=n;var l="<div class='ug-textpanel"+(i=i?" "+i:"")+"'>";1==p.textpanel_enable_bg&&(l+="<div class='ug-textpanel-bg"+i+"'></div>"),l+="<div class='ug-textpanel-textwrapper"+i+"'>",1==p.textpanel_enable_title&&(l+="<div class='ug-textpanel-title"+i+"'></div>"),1==p.textpanel_enable_description&&(l+="<div class='ug-textpanel-description"+i+"'></div>"),l+="</div></div>",n.append(l),e=n.children(".ug-textpanel"),s=e.children(".ug-textpanel-textwrapper"),g()},this.destroy=function(){jQuery(o).off(o.events.ITEM_CHANGE)},this.run=function(){a.setSizeByParent(),jQuery(o).on(o.events.ITEM_CHANGE,h)},this.setPanelSize=function(t,o){if(d.setInternalHeight=!0,o)d.setInternalHeight=!1;else o=80;p.textpanel_height&&(o=p.textpanel_height),e.width(t),e.height(o),l&&(l.width(t),l.height(o));var _=t-p.textpanel_padding_left-p.textpanel_padding_right,u=p.textpanel_padding_left;r.setElementSizeAndPosition(s,u,0,_,o),n&&n.width(_),i&&i.width(_),0==d.isFirstTime&&a.positionElements(!1)},this.setSizeByParent=function(){var e=r.getElementSize(t);a.setPanelSize(e.width)},this.setTextPlain=function(e,t){n&&n.html(e),i&&i.html(t)},this.setText=function(e,t){1==d.isFirstTime?(a.setTextPlain(e,t),d.isFirstTime=!1,a.positionElements(!1)):s.stop().fadeTo(p.textpanel_fade_duration,0,(function(){a.setTextPlain(e,t),a.positionElements(!0),jQuery(this).fadeTo(p.textpanel_fade_duration,1)}))},this.positionPanel=function(t,n){var i={};if(null!=t)i.top=t,i.bottom="auto";else switch(p.textpanel_align){case"top":i.top=p.textpanel_margin+"px";break;case"bottom":i.top="auto",i.bottom=p.textpanel_margin+"px";break;case"middle":i.top=r.getElementRelativePos(e,"middle",p.textpanel_margin)}null!=n&&(i.left=n),e.css(i)},this.setOptions=function(e){_&&(e=r.convertCustomPrefixOptions(e,_,"textpanel")),p=jQuery.extend(p,e)},this.getElement=function(){return e},this.getSize=function(){return r.getElementSize(e)},this.refresh=function(e,t,n,i){g(),n?a.setPanelSize(n,i):a.setSizeByParent(),a.positionElements(!1),!0!==t&&a.positionPanel(),!0===e&&a.show()},this.hide=function(){e.hide()},this.show=function(){e.show()},this.getOptions=function(){return p},this.getOption=function(e){return 0==p.hasOwnProperty(e)?null:p[e]}}function UGZoomButtonsPanel(){var e,t,n,i,l=new UGSlider,s=new UGFunctions,o={slider_zoompanel_skin:""};function a(e){return!e||!!e.hasClass("ug-zoompanel-button-disabled")}function r(e){e&&e.addClass("ug-zoompanel-button-disabled")}function _(e){e&&e.removeClass("ug-zoompanel-button-disabled")}function p(){if(0==l.isCurrentSlideType("image"))return!0;1==l.isCurrentSlideImageFit()?0==a(n)&&(r(n),r(i)):1==a(n)&&(_(n),_(i))}this.init=function(e,t){l=e,t&&(o=jQuery.extend(o,t))},this.appendHTML=function(l){l;var s="<div class='ug-slider-control ug-zoompanel ug-skin-"+o.slider_zoompanel_skin+"'>";s+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",s+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",s+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",s+="</div>",l.append(s),e=l.children(".ug-zoompanel"),t=e.children(".ug-zoompanel-plus"),n=e.children(".ug-zoompanel-minus"),i=e.children(".ug-zoompanel-return")},this.setObjects=function(e,l,s){t=e,i=s,(n=l)&&n.addClass("ug-zoompanel-button-disabled"),i&&i.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return e},this.initEvents=function(){s.addClassOnHover(t,"ug-button-hover"),s.addClassOnHover(n,"ug-button-hover"),s.addClassOnHover(i,"ug-button-hover"),s.setButtonOnClick(t,(function(){if(1==a(t))return!0;l.zoomIn()})),s.setButtonOnClick(n,(function(){if(1==a(n))return!0;l.zoomOut()})),s.setButtonOnClick(i,(function(){if(1==a(i))return!0;l.zoomBack()})),jQuery(l).on(l.events.ZOOM_CHANGE,p),jQuery(l).on(l.events.ITEM_CHANGED,p)}}function UGBullets(){var e,t,n=this,i=0,l=new UniteGalleryMain,s=new UGFunctions,o={isInited:!1},a={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};function r(){var n="",l="";-1!=a.bullets_space_between&&(l=" style='margin-left:"+a.bullets_space_between+"px'");for(var s=0;s<i;s++)n+=0==s?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+l+"></div>";if(e.html(n),!t){var o=e.find(".ug-bullet:first-child");o.length&&(t=o.width())}}function _(e){if(1==n.isActive(e))return!0;var t=e.index();jQuery(n).trigger(n.events.BULLET_CLICK,t)}function p(){var t=e.children(".ug-bullet");s.setButtonOnClick(t,_),t.on("mousedown mouseup",(function(e){return!1}))}function d(e){if(e<0||e>=i)throw new Error("wrong bullet index: "+e)}function u(){if(1==o.isInited)return!0;throw new Error("The bullets are not inited!")}this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t,n){l=e,i=n||l.getNumItems(),o.isInited=!0,""==(a=jQuery.extend(a,t)).bullets_skin&&(a.bullets_skin=a.gallery_skin)},this.getBulletsWidth=function(){return 0==i?0:t?i*t+(i-1)*a.bullets_space_between:0},this.appendHTML=function(t){t,u();var n="";""!=a.bullets_addclass&&(n=" "+a.bullets_addclass);var i="<div class='ug-slider-control ug-bullets ug-skin-"+a.bullets_skin+n+"'>";e=jQuery(i+="</div>"),t.append(e),r(),p()},this.updateNumBullets=function(e){i=e,r(),p()},this.getElement=function(){return e},this.setActive=function(t){u(),d(t);var n=e.children(".ug-bullet");n.removeClass("ug-bullet-active"),jQuery(n[t]).addClass("ug-bullet-active"),t},this.isActive=function(t){if(d(t),"number"!=typeof t)var n=t;else n=e.children(".ug-bullet")[t];return!!n.hasClass("ug-bullet-active")},this.getNumBullets=function(){return i}}function UGProgressBar(){var e,t,n=this,i=0,l=new UGFunctions,s={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(n,i){i&&(s=jQuery.extend(s,i)),n.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),e=n.children(".ug-progress-bar"),(t=e.children(".ug-progress-bar-inner")).css("background-color",s.slider_progressbar_color),e.height(s.slider_progressbar_line_width),t.height(s.slider_progressbar_line_width),t.width("0%");var l=s.slider_progressbar_opacity,o=t[0];o.style.opacity=l,o.style.filter="alpha(opacity="+100*l+")"},this.putHidden=function(t,i){n.put(t,i),e.hide()},this.getElement=function(){return e},this.setSize=function(i){e.width(i),t.width(i),n.draw()},this.setPosition=function(t,n,i,s){l.placeElement(e,t,n,i,s)},this.draw=function(){var e=100*i;t.width(e+"%")},this.setProgress=function(e){i=l.normalizePercent(e),n.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){var e,t=this,n=!1,i=new UGFunctions,l={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};function s(t){if(!t)t=0;var i=Math.min(l.slider_progresspie_width,l.slider_progresspie_height)/2,s=e[0].getContext("2d");0==n&&(n=!0,s.rotate(1.5*Math.PI),s.translate(-2*i,0)),s.clearRect(0,0,l.slider_progresspie_width,l.slider_progresspie_height);var o=l.slider_progresspie_width/2,a=l.slider_progresspie_height/2,r=0,_=t*Math.PI*2;if(1==l.slider_progresspie_type_fill)s.beginPath(),s.moveTo(o,a),s.arc(o,a,i,r,_),s.lineTo(o,a),s.fillStyle=l.slider_progresspie_color1,s.fill(),s.closePath();else{s.globalCompositeOperation="source-over",s.beginPath(),s.moveTo(o,a),s.arc(o,a,i,r,_),s.lineTo(o,a),s.fillStyle=l.slider_progresspie_color1,s.fill(),s.closePath(),s.globalCompositeOperation="destination-out";var p=i-l.slider_progresspie_stroke_width;s.beginPath(),s.moveTo(o,a),s.arc(o,a,p,r,_),s.lineTo(o,a),s.fillStyle=l.slider_progresspie_color1,s.fill(),s.closePath()}1==l.slider_progresspie_type_fill&&(r=_,_=2*Math.PI,s.beginPath(),s.arc(o,a,i,r,_),s.lineTo(o,a),s.fillStyle=l.slider_progresspie_color2,s.fill(),s.closePath())}this.put=function(t,n){n&&(l=jQuery.extend(l,n)),t.append("<canvas class='ug-canvas-pie' width='"+l.slider_progresspie_width+"' height='"+l.slider_progresspie_height+"'></canvas>"),e=t.children(".ug-canvas-pie")},this.putHidden=function(n,i){t.put(n,i),s(.1),e.hide()},this.getElement=function(){return e},this.setPosition=function(t,n){i.placeElement(e,t,n)},this.getSize=function(){return{width:l.slider_progresspie_width,height:l.slider_progresspie_height}},this.setProgress=function(e){e=i.normalizePercent(e),e,s(e)},this.getType=function(){return"pie"}}