function UGStripPanel(){var t,e,n,i,r,s=this,p=jQuery(this),a=new UniteGalleryMain,l=new UGFunctions,o=new UGThumbsStrip,d=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var _={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},u={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},g={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},c={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};function h(){if(1==c.isFirstRun&&0==function(){if(0==_.strippanel_vertical_type){if(0==c.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==c.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==c.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}())return!1;o.run(),v(),b(),function(){if(1==c.isEventsInited)return!1;if(c.isEventsInited=!0,i){if(l.addClassOnHover(i,"ug-button-hover"),l.addClassOnHover(r,"ug-button-hover"),l.setButtonOnClick(r,E),l.setButtonOnClick(i,m),"advance_item"!=_.strippanel_buttons_role)jQuery(o).on(o.events.STRIP_MOVE,y),jQuery(o).on(o.events.INNER_SIZE_CHANGE,w),t.on(a.events.SIZE_CHANGE,w);else 0==a.getOptions().gallery_carousel&&jQuery(a).on(a.events.ITEM_CHANGE,S)}d.initEvents()}(),c.isFirstRun=!1,w()}function f(t){if(!t)t=e;if(t.append("<div class='ug-strip-panel'></div>"),n=t.children(".ug-strip-panel"),1==_.strippanel_enable_buttons){var s="ug-strip-arrow-left",p="ug-strip-arrow-right";1==_.strippanel_vertical_type&&(s="ug-strip-arrow-up",p="ug-strip-arrow-down"),n.append("<div class='ug-strip-arrow "+s+" ug-skin-"+_.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),n.append("<div class='ug-strip-arrow "+p+" ug-skin-"+_.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}d.setHtml(n),o.setHtml(n),1==_.strippanel_enable_buttons&&(r=n.children("."+s),i=n.children("."+p)),""!=_.strippanel_background_color&&n.css("background-color",_.strippanel_background_color)}function v(){0==_.strippanel_vertical_type?function(){var t=o.getHeight(),e=c.panelWidth;if(i){r.height(t),i.height(t);var s=r.children(".ug-strip-arrow-tip");l.placeElement(s,"center","middle");var p=i.children(".ug-strip-arrow-tip");l.placeElement(p,"center","middle")}var a=t+_.strippanel_padding_top+_.strippanel_padding_bottom;n.width(e),n.height(a),c.panelHeight=a;var d=e-_.strippanel_padding_left-_.strippanel_padding_right;i&&(d=d-2*i.outerWidth()-2*_.strippanel_padding_buttons),o.resize(d)}():function(){var t=o.getWidth(),e=c.panelHeight;if(i){r.width(t),i.width(t);var s=r.children(".ug-strip-arrow-tip");l.placeElement(s,"center","middle");var p=i.children(".ug-strip-arrow-tip");l.placeElement(p,"center","middle")}var a=t+_.strippanel_padding_left+_.strippanel_padding_right;n.width(a),n.height(e),c.panelWidth=a;var d=e-_.strippanel_padding_top-_.strippanel_padding_bottom;i&&(d=d-2*i.outerHeight()-2*_.strippanel_padding_buttons),o.resize(d)}()}function b(){0==_.strippanel_vertical_type?function(){i&&(l.placeElement(r,"left","top",_.strippanel_padding_left,_.strippanel_padding_top),l.placeElement(i,"right","top",_.strippanel_padding_right,_.strippanel_padding_top));var t=_.strippanel_padding_left;i&&(t+=i.outerWidth()+_.strippanel_padding_buttons),o.setPosition(t,_.strippanel_padding_top)}():function(){i&&(l.placeElement(r,"left","top",_.strippanel_padding_left,_.strippanel_padding_top),l.placeElement(i,"left","bottom",_.strippanel_padding_left,_.strippanel_padding_bottom));var t=_.strippanel_padding_top;i&&(t+=i.outerHeight()+_.strippanel_padding_buttons),o.setPosition(_.strippanel_padding_left,t)}(),d.placeElements()}function m(t){if(l.isButtonDisabled(t))return!0;"advance_item"==_.strippanel_buttons_role?a.nextItem():o.scrollForeward()}function E(t){if(l.isButtonDisabled(t))return!0;"advance_item"==_.strippanel_buttons_role?a.prevItem():o.scrollBack()}function w(){if(!i)return!0;if(0==o.isMoveEnabled())return l.disableButton(r),l.disableButton(i),!0;var t=o.getInnerStripLimits(),e=o.getInnerStripPos();e>=t.maxPos?l.disableButton(r):l.enableButton(r),e<=t.minPos?l.disableButton(i):l.enableButton(i)}function y(){w()}function S(){a.isLastItem()?l.disableButton(i):l.enableButton(i),a.isFirstItem()?l.disableButton(r):l.enableButton(r)}this.destroy=function(){i&&(l.destroyButton(i),l.destroyButton(r),jQuery(o).off(o.events.STRIP_MOVE),jQuery(a).off(a.events.ITEM_CHANGE),jQuery(a).off(a.events.SIZE_CHANGE)),d.destroy(),o.destroy()},this.getOrientation=function(){return c.orientation},this.setOrientation=function(t){c.orientation=t},this.init=function(n,i){!function(n,i){a=n,t=jQuery(a);var r=!1;1==(_=jQuery.extend(_,i)).strippanel_vertical_type&&(_=jQuery.extend(_,u),r=!0),0==_.strippanel_enable_buttons&&(_=jQuery.extend(_,g),r=!0),1==r&&(_=jQuery.extend(_,i));var l=a.getOptions().gallery_skin;""==_.strippanel_buttons_skin&&(_.strippanel_buttons_skin=l),e=a.getElement(),d.init(a,c,s,_,p),(o=new UGThumbsStrip).init(a,_)}(n,i)},this.run=function(){h()},this.setHtml=function(t){f(t)},this.getElement=function(){return n},this.getSize=function(){return l.getElementSize(n)},this.setWidth=function(t){c.panelWidth=t},this.setHeight=function(t){c.panelHeight=t},this.resize=function(t){s.setWidth(t),v(),b()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return d.isPanelClosed()},this.getClosedPanelDest=function(){return d.getClosedPanelDest()},this.openPanel=function(t){d.openPanel(t)},this.closePanel=function(t){d.closePanel(t)},this.setOpenedState=function(t){d.setOpenedState(t)},this.setClosedState=function(t){d.setClosedState(t)},this.setCustomThumbs=function(t){o.setCustomThumbs(t)},this.setDisabledAtStart=function(t){d.setDisabledAtStart(t)}}