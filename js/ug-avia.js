function UGAviaControl(){var t,i,n,r,o,e,u={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};function s(){if(0==u.is_strip_moving)return!1;var i=t.getInnerStripPos();Math.floor(i)==Math.floor(u.strip_finalPos)&&a();var n,r=Math.abs(u.strip_finalPos-i);r<1?n=r:(n=r/4)>0&&n<1&&(n=1),u.strip_finalPos<i&&(n*=-1);var o=i+n;t.positionInnerStrip(o)}function a(){if(0==u.isStripMoving)return!1;u.isStripMoving=!1,u.handle_timeout=clearInterval(u.handle_timeout)}this.enable=function(){u.isControlEnabled=!0},this.disable=function(){u.isControlEnabled=!1},this.init=function(f){t=f,i=f.getObjects(),i.g_gallery,n=i.g_objStrip,r=i.g_objStripInner,o=i.g_options,e=i.isVertical,jQuery("body").on("touchstart",(function(t){if(0==u.isControlEnabled)return!0;u.touchEnabled=!0})),jQuery("body").mousemove((function(i){if(0==u.isControlEnabled)return!0;if(1==u.touchEnabled)return jQuery("body").off("mousemove"),!0;u.isMouseInsideStrip=n.ismouseover();var f=t.isTouchMotionActive();1==u.isMouseInsideStrip&&0==f?function(t){var i=function(t){return 0==e?function(t){var i=o.strip_padding_left,e=o.strip_padding_right,u=n.width()-i-e,s=r.width();if(u>s)return null;var a=n.offset().left,f=t-a-i,l=o.thumb_width,d=u-o.thumb_width;f<l&&(f=l),f>d&&(f=d);var h=(f-l)/(d-l)*(s-u);return h=-1*Math.round(h)+i}(t):function(t){var i=o.strip_padding_top,e=(o.strip_padding_bottom,n.height()),u=r.height();if(e>u)return null;var s=n.offset().top,a=t-s-i;if(a<0)return null;var f=o.thumb_height,l=e-o.thumb_height;a<f&&(a=f),a>l&&(a=l);var d=(a-f)/(l-f)*(u-e);return d=-1*Math.round(d)+i}(t)}(t);if(null===i)return!1;u.is_strip_moving=!0,u.strip_finalPos=i,function(){if(1==u.isStripMoving)return!1;u.isStripMoving=!0,u.handle_timeout=setInterval(s,10)}()}(function(t){return 0==e?t.pageX:t.pageY}(i)):a()}))},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}